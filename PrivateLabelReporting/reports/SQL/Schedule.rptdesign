<?xml version="1.0" encoding="UTF-8"?>
<report xmlns="http://www.eclipse.org/birt/2005/design" version="3.2.22" id="1">
    <property name="createdBy">Eclipse BIRT Designer Version 3.7.1.v20110905 Build &lt;3.7.1.v20110905-1820></property>
    <text-property name="title">Schedule</text-property>
    <property name="units">in</property>
    <property name="iconFile">/templates/blank_report.gif</property>
    <property name="bidiLayoutOrientation">ltr</property>
    <parameters>
        <parameter-group name="RosterParameters" id="112">
            <parameters>
                <scalar-parameter name="rosterType" id="113">
                    <text-property name="promptText">Choose Roster</text-property>
                    <property name="valueType">static</property>
                    <property name="isRequired">true</property>
                    <property name="sortBy">value</property>
                    <property name="sortDirection">asc</property>
                    <property name="dataType">string</property>
                    <property name="distinct">true</property>
                    <simple-property-list name="defaultValue">
                        <value type="constant">1</value>
                    </simple-property-list>
                    <list-property name="selectionList">
                        <structure>
                            <property name="value">1</property>
                            <property name="label">Support</property>
                        </structure>
                        <structure>
                            <property name="value">2</property>
                            <property name="label">Active Support</property>
                        </structure>
                        <structure>
                            <property name="value">3</property>
                            <property name="label">Sales</property>
                        </structure>
                        <structure>
                            <property name="value">4</property>
                            <property name="label">Active Sales</property>
                        </structure>
                        <structure>
                            <property name="value">5</property>
                            <property name="label">Support and Sales</property>
                        </structure>
                        <structure>
                            <property name="value">6</property>
                            <property name="label">Active Support and Sales</property>
                        </structure>
                    </list-property>
                    <property name="paramType">simple</property>
                    <property name="controlType">list-box</property>
                    <property name="mustMatch">true</property>
                    <property name="fixedOrder">false</property>
                    <structure name="format">
                        <property name="category">Unformatted</property>
                    </structure>
                </scalar-parameter>
            </parameters>
        </parameter-group>
        <parameter-group name="ReportTypeParameters" id="120">
            <parameters>
                <scalar-parameter name="reportType" id="121">
                    <text-property name="promptText">Choose Report Type</text-property>
                    <property name="valueType">static</property>
                    <property name="isRequired">true</property>
                    <property name="dataType">string</property>
                    <property name="distinct">true</property>
                    <simple-property-list name="defaultValue">
                        <value type="constant">4</value>
                    </simple-property-list>
                    <list-property name="selectionList">
                        <structure>
                            <property name="value">1</property>
                            <property name="label">Agent Stack</property>
                        </structure>
                        <structure>
                            <property name="value">2</property>
                            <property name="label">Agent Time</property>
                        </structure>
                        <structure>
                            <property name="value">3</property>
                            <property name="label">Team Stack</property>
                        </structure>
                        <structure>
                            <property name="value">4</property>
                            <property name="label">Team Time</property>
                        </structure>
                    </list-property>
                    <property name="paramType">simple</property>
                    <property name="controlType">list-box</property>
                    <property name="mustMatch">true</property>
                    <property name="fixedOrder">true</property>
                    <structure name="format">
                        <property name="category">Unformatted</property>
                    </structure>
                </scalar-parameter>
            </parameters>
        </parameter-group>
        <parameter-group name="DateParameters" id="122">
            <parameters>
                <scalar-parameter name="startDate" id="123">
                    <text-property name="promptText">Enter a beginning date in form YYYY-MM-DD HH:MM:SS</text-property>
                    <property name="valueType">static</property>
                    <property name="dataType">string</property>
                    <property name="distinct">true</property>
                    <property name="paramType">simple</property>
                    <property name="controlType">text-box</property>
                    <structure name="format">
                        <property name="category">Unformatted</property>
                    </structure>
                </scalar-parameter>
                <scalar-parameter name="endDate" id="124">
                    <text-property name="promptText">Enter an end date in form YYYY-MM-DD HH:MM:SS</text-property>
                    <property name="valueType">static</property>
                    <property name="dataType">string</property>
                    <property name="distinct">true</property>
                    <property name="paramType">simple</property>
                    <property name="controlType">text-box</property>
                    <structure name="format">
                        <property name="category">Unformatted</property>
                    </structure>
                </scalar-parameter>
            </parameters>
        </parameter-group>
        <parameter-group name="AgentNameParameters" id="125">
            <parameters>
                <scalar-parameter name="agentName" id="126">
                    <text-property name="promptText">Choose an Agent Name</text-property>
                    <property name="valueType">static</property>
                    <property name="isRequired">true</property>
                    <property name="dataType">string</property>
                    <property name="distinct">true</property>
                    <simple-property-list name="defaultValue">
                        <value type="constant">null</value>
                    </simple-property-list>
                    <list-property name="selectionList"/>
                    <property name="paramType">simple</property>
                    <property name="controlType">text-box</property>
                    <structure name="format">
                        <property name="category">Unformatted</property>
                    </structure>
                </scalar-parameter>
            </parameters>
        </parameter-group>
    </parameters>
    <data-sources>
        <script-data-source name="HeliosDataSource" id="22">
            <method name="open"><![CDATA[reportObject = null;
reportData = null;

var dbFail = -1;
if(!vars["hasRunOnce"])
{
	try
	{
		//terrible
		reportObject = eval( "new Packages.report." + vars["reportClass"] + "()");

		if(reportObject != null)
		{
			//report parameters enforce which of these are required by user

			if("reportType" in params &amp;&amp; params["reportType"] != null)
			{
				reportObject.setParameter(Packages.report.Report.REPORT_TYPE_PARAM, params["reportType"]);
			}

			if("rosterType" in params &amp;&amp; params["rosterType"] != null)
			{
				reportObject.setParameter(Packages.report.Report.ROSTER_TYPE_PARAM, params["rosterType"]);
			}

			if("timeGrain" in params &amp;&amp; params["timeGrain"] != null)
			{
				reportObject.setParameter(Packages.report.Report.TIME_GRAIN_PARAM, params["timeGrain"]);
			}

			if("startDate" in params &amp;&amp; params["startDate"] != null)
			{
				reportObject.setParameter(Packages.report.Report.START_DATE_PARAM, params["startDate"]);
			}

			if("endDate" in params &amp;&amp; params["endDate"] != null)
			{
				reportObject.setParameter(Packages.report.Report.END_DATE_PARAM, params["endDate"]);
			}

			if("agentName" in params &amp;&amp; params["agentName"] != null &amp;&amp; params["agentName"] != "null")
			{
				reportObject.setParameter(Packages.report.Report.AGENT_NAME_PARAM, params["agentName"]);
			}

			if("numDrivers" in params &amp;&amp; params["numDrivers"] != null)
			{
				reportObject.setParameter(Packages.report.Report.NUM_DRIVERS_PARAM, params["numDrivers"]);
			}

			reportData = reportObject.startReport();

			if(reportData != null)
			{
				if( reportObject.isTimeReport()  )
				{
					vars["isTimeReport"] = "1";
				}
				
				reportDataRow = 0;
				reportDataRows = reportData.size();

				vars["alerter"] = "";
			}
			else
			{
				throw "Report error: " + reportObject.getErrorMsg();
			}
		}
		else
		{
			throw "Could not instantiate reportObject: " + vars["reportClass"];
		}
	}
	catch(e)
	{
		vars["alerter"] = 'alert("An error occurred running the report: ' + e.message + '");';
	}

	vars["hasRunOnce"] = 1;
}

//		no finally block in birt javascript

if(reportObject != null)
{
	reportObject.close();
	reportObject = null;
}
]]></method>
        </script-data-source>
    </data-sources>
    <data-sets>
        <script-data-set name="rosterSet" id="8">
            <list-property name="resultSetHints">
                <structure>
                    <property name="position">1</property>
                    <property name="name">Name</property>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="position">2</property>
                    <property name="name">Schedule</property>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="position">3</property>
                    <property name="name">Shifts</property>
                    <property name="dataType">string</property>
                </structure>
            </list-property>
            <list-property name="columnHints">
                <structure>
                    <property name="columnName">Name</property>
                    <text-property name="displayName">Name</text-property>
                </structure>
                <structure>
                    <property name="columnName">Schedule</property>
                    <text-property name="displayName">Schedule</text-property>
                </structure>
                <structure>
                    <property name="columnName">Shifts</property>
                    <text-property name="displayName">Shifts</text-property>
                </structure>
            </list-property>
            <structure name="cachedMetaData">
                <list-property name="resultSet">
                    <structure>
                        <property name="position">1</property>
                        <property name="name">Name</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">2</property>
                        <property name="name">Schedule</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">3</property>
                        <property name="name">Shifts</property>
                        <property name="dataType">string</property>
                    </structure>
                </list-property>
            </structure>
            <property name="dataSource">HeliosDataSource</property>
            <method name="fetch"><![CDATA[if(reportData == null || reportDataRow >= reportDataRows )
{
	return (false);
}

var thisRow = reportData.get(reportDataRow);

var schedStart = thisRow[1];
var schedEnd = thisRow[2];
var scheduleString = "";
var shiftString = "";

if(schedStart &amp;&amp; schedEnd)
{
	scheduleString = schedStart.substring(0,16) + " => " +schedEnd.substring(0,16);
}

if(thisRow[3])
{
	shiftString = thisRow[3].replace(",","\n");
}

row["Name"] = thisRow[0];
row["Schedule"] = scheduleString;
row["Shifts"] = shiftString;


reportDataRow += 1;

return (true);
]]></method>
            <method name="close"><![CDATA[reportData = null;]]></method>
        </script-data-set>
    </data-sets>
    <styles>
        <style name="report" id="4">
            <property name="fontFamily">sans-serif</property>
            <property name="fontSize">10pt</property>
        </style>
        <style name="crosstab-cell" id="5">
            <property name="borderBottomColor">#CCCCCC</property>
            <property name="borderBottomStyle">solid</property>
            <property name="borderBottomWidth">1pt</property>
            <property name="borderLeftColor">#CCCCCC</property>
            <property name="borderLeftStyle">solid</property>
            <property name="borderLeftWidth">1pt</property>
            <property name="borderRightColor">#CCCCCC</property>
            <property name="borderRightStyle">solid</property>
            <property name="borderRightWidth">1pt</property>
            <property name="borderTopColor">#CCCCCC</property>
            <property name="borderTopStyle">solid</property>
            <property name="borderTopWidth">1pt</property>
        </style>
        <style name="crosstab" id="6">
            <property name="borderBottomColor">#CCCCCC</property>
            <property name="borderBottomStyle">solid</property>
            <property name="borderBottomWidth">1pt</property>
            <property name="borderLeftColor">#CCCCCC</property>
            <property name="borderLeftStyle">solid</property>
            <property name="borderLeftWidth">1pt</property>
            <property name="borderRightColor">#CCCCCC</property>
            <property name="borderRightStyle">solid</property>
            <property name="borderRightWidth">1pt</property>
            <property name="borderTopColor">#CCCCCC</property>
            <property name="borderTopStyle">solid</property>
            <property name="borderTopWidth">1pt</property>
        </style>
    </styles>
    <page-setup>
        <simple-master-page name="Simple MasterPage" id="2">
            <page-footer>
                <text id="3">
                    <property name="contentType">html</property>
                    <text-property name="content"><![CDATA[<value-of>new Date()</value-of>]]></text-property>
                </text>
            </page-footer>
        </simple-master-page>
    </page-setup>
    <body>
        <grid id="9">
            <property name="borderBottomColor">#000000</property>
            <property name="borderBottomStyle">solid</property>
            <property name="borderBottomWidth">medium</property>
            <property name="borderLeftColor">#000000</property>
            <property name="borderLeftStyle">solid</property>
            <property name="borderLeftWidth">medium</property>
            <property name="height">1.0625in</property>
            <property name="width">7.947916666666667in</property>
            <column id="10">
                <property name="width">3.25in</property>
            </column>
            <column id="11">
                <property name="width">2.0520833333333335in</property>
            </column>
            <column id="12">
                <property name="width">2.6458333333333335in</property>
            </column>
            <row id="13">
                <property name="height">0.3020833333333333in</property>
                <cell id="14">
                    <property name="colSpan">1</property>
                    <property name="rowSpan">3</property>
                    <image id="91">
                        <property name="height">65px</property>
                        <property name="width">3.1145833333333335in</property>
                        <property name="source">file</property>
                        <expression name="uri" type="constant">/opt/tomcat/webapps/birt-viewer/WEB-INF/lib/PrivateLabelReporting/ui/images/suth_logo.jpg</expression>
                    </image>
                </cell>
                <cell id="15">
                    <label id="89">
                        <property name="fontWeight">bold</property>
                        <property name="textAlign">right</property>
                        <text-property name="text">Report:</text-property>
                    </label>
                </cell>
                <cell id="16">
                    <label id="71">
                        <property name="fontWeight">bold</property>
                        <text-property name="text">Private Label Schedule</text-property>
                    </label>
                </cell>
            </row>
            <row id="81">
                <property name="height">0.23958333333333334in</property>
                <cell id="83"/>
                <cell id="84"/>
            </row>
            <row id="85">
                <property name="height">0.22916666666666666in</property>
                <cell id="87"/>
                <cell id="88"/>
            </row>
            <row id="17">
                <property name="height">0.2916666666666667in</property>
                <cell id="18">
                    <property name="colSpan">1</property>
                    <property name="rowSpan">1</property>
                    <text-data name="alertBox" id="80">
                        <property name="dataSet">rosterSet</property>
                        <list-property name="boundDataColumns">
                            <structure>
                                <property name="name">Name</property>
                                <text-property name="displayName">Name</text-property>
                                <expression name="expression" type="javascript">dataSetRow["Name"]</expression>
                                <property name="dataType">string</property>
                            </structure>
                            <structure>
                                <property name="name">Schedule</property>
                                <text-property name="displayName">Schedule</text-property>
                                <expression name="expression" type="javascript">dataSetRow["Schedule"]</expression>
                                <property name="dataType">string</property>
                            </structure>
                            <structure>
                                <property name="name">Shifts</property>
                                <text-property name="displayName">Shifts</text-property>
                                <expression name="expression" type="javascript">dataSetRow["Shifts"]</expression>
                                <property name="dataType">string</property>
                            </structure>
                        </list-property>
                        <expression name="valueExpr">vars["scriptPrefix"] + vars["alerter"] + vars["scriptSuffix"]</expression>
                        <property name="contentType">html</property>
                    </text-data>
                </cell>
                <cell id="90"/>
                <cell id="20"/>
            </row>
        </grid>
        <table id="25">
            <property name="display">block</property>
            <property name="pageBreakAfter">auto</property>
            <property name="pageBreakBefore">auto</property>
            <property name="pageBreakInside">auto</property>
            <property name="width">8in</property>
            <property name="dataSet">rosterSet</property>
            <list-property name="boundDataColumns">
                <structure>
                    <property name="name">Name</property>
                    <text-property name="displayName">Name</text-property>
                    <expression name="expression" type="javascript">dataSetRow["Name"]</expression>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="name">Schedule</property>
                    <text-property name="displayName">Schedule</text-property>
                    <expression name="expression" type="javascript">dataSetRow["Schedule"]</expression>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="name">Shifts</property>
                    <text-property name="displayName">Shifts</text-property>
                    <expression name="expression" type="javascript">dataSetRow["Shifts"]</expression>
                    <property name="dataType">string</property>
                </structure>
            </list-property>
            <property name="pageBreakInterval">40</property>
            <list-property name="sort">
                <structure>
                    <expression name="key" type="javascript">row["Name"]</expression>
                    <property name="direction">asc</property>
                    <property name="strength">-1</property>
                </structure>
            </list-property>
            <column id="50">
                <property name="width">1.4845360824742269in</property>
            </column>
            <column id="51">
                <property name="width">3.0721649484536084in</property>
            </column>
            <column id="52">
                <property name="width">3.443298969072165in</property>
            </column>
            <header>
                <row id="26">
                    <cell id="27">
                        <label id="114">
                            <text-property name="text">Name</text-property>
                        </label>
                    </cell>
                    <cell id="28">
                        <label id="116">
                            <text-property name="text">Schedule</text-property>
                        </label>
                    </cell>
                    <cell id="29">
                        <label id="118">
                            <text-property name="text">Shifts</text-property>
                        </label>
                    </cell>
                </row>
            </header>
            <detail>
                <row id="34">
                    <cell id="35">
                        <data id="115">
                            <property name="resultSetColumn">Name</property>
                        </data>
                    </cell>
                    <cell id="36">
                        <data id="117">
                            <property name="resultSetColumn">Schedule</property>
                        </data>
                    </cell>
                    <cell id="37">
                        <data id="119">
                            <property name="resultSetColumn">Shifts</property>
                        </data>
                    </cell>
                </row>
            </detail>
        </table>
    </body>
    <property name="pageVariables">
        <variable-element name="alerter">
            <property name="type">report</property>
        </variable-element>
        <variable-element name="scriptPrefix">
            <expression name="value" type="javascript">'&lt;form>&lt;script type="text/javascript">'</expression>
            <property name="type">report</property>
        </variable-element>
        <variable-element name="scriptSuffix">
            <expression name="value" type="javascript">'&lt;/script>&lt;/form>'</expression>
            <property name="type">report</property>
        </variable-element>
        <variable-element name="hasRunOnce">
            <expression name="value" type="javascript">0</expression>
            <property name="type">report</property>
        </variable-element>
        <variable-element name="reportClass">
            <expression name="value" type="javascript">"SQL.Schedules"</expression>
            <property name="type">report</property>
        </variable-element>
    </property>
</report>
